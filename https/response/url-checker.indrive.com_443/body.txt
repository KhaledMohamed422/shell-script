<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<title>Link Tester</title>

		<!-- Bootstrap CSS -->
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
	</head>
	<body>
		<div class="container mt-3 col-lg-6">
			<h3>Link tester</h3>

			<ul class="list-group mt-4" id="domains">
			</ul>
		</div>
		<h4>Your IP address: </h4>
		<!-- Optional JavaScript -->
		<!-- jQuery first, then Popper.js, then Bootstrap JS -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<script type="text/javascript">
			function ping_local(domains) {
				$.each(domains, (i, domain) => {
					let start = Date.now();
					fetch(domain + '/net-test/local/ping')
						.then((response) => {
							var time = Date.now() - start;
							response.text().then((result) => {
								var text = 'error';
								var className = 'badge-danger';
								if (result === '4027eef237f784a03f72ff8d3188b997') {
									text = time + 'ms';
									className = 'badge-success';
								} else {
									text = 'wrong response';
								}
								$('#result-ping_local-' + i).text(text).removeClass('badge-secondary').addClass(className);
							})
						})
						.catch((e) => {
							$('#result-ping_local-' + i).text(e).removeClass('badge-secondary').addClass('badge-danger');
						})
				});
			}
                        function ping(domains) {
                                $.each(domains, (i, domain) => {
                                        let start = Date.now();
                                        fetch(domain + '/net-test/ping')
                                                .then((response) => {
                                                        var time = Date.now() - start;
                                                        response.text().then((result) => {
                                                                var text = 'error';
                                                                var className = 'badge-danger';
                                                                if (result === '4027eef237f784a03f72ff8d3188b997') {
                                                                        text = time + 'ms';
                                                                        className = 'badge-success';
                                                                } else {
                                                                        text = 'wrong response';
                                                                }
                                                                $('#result-ping-' + i).text(text).removeClass('badge-secondary').addClass(className);
                                                        })
                                                })
                                                .catch((e) => {
                                                        $('#result-ping-' + i).text(e).removeClass('badge-secondary').addClass('badge-danger');
                                                })
                                });
                        }
		</script>
		<script type="text/javascript">
			$(document).ready(() => {
				let domains = [
					'https://indriver.com',
					'https://talaria.online',
					'https://caduceus.online',
					'https://terra-3.indriverapp.com',
					'https://terra-6.indriverapp.com',
					'https://terra-sg.indriverapp.com',
					'https://terra-was.indriverapp.com',
					'https://d25yi413ck8ff4.cloudfront.net',
					'https://terra.aws.indriverapp.com',
                                        'https://no-cf.latam-mx.saea1.aws.indriverapp.com',
                                        'https://no.latam-mx.saea1.aws.indriverapp.com'
				];
				let $li = $('<li>', {class: 'list-group-item d-flex justify-content-between align-items-center'}).text('domain');
				$li.append($('<span>',{}).text('ping'));
				$li.append($('<span>',{}).text('ping_local'));
				$('#domains').append($li);
				$.each(domains, (i, domain) => {
					let $result_ping = $('<span>', {class: 'badge badge-secondary', id: 'result-ping-' + i}).text('loading...')
					let $result_ping_local = $('<span>', {class: 'badge badge-secondary', id: 'result-ping_local-' + i}).text('loading...')
					let $li = $('<li>', {class: 'list-group-item d-flex justify-content-between align-items-center'}).text(domain);
					$li.append($result_ping)
					$li.append($result_ping_local)
					$('#domains').append($li);
				});
				let ip;
				async function getClientIP() {
					return await $.get('https://www.cloudflare.com/cdn-cgi/trace', function(data) {
						const fullString = data.split(/ip=/i),
								ipString = fullString[1].split(/ts=/i);
						ip = ipString[0];
					});
				}
				getClientIP().then( () => {
					$('h4').append(ip);
					$('h4').css('text-align','center');
					$('h4').css('margin-top','20px');
				});
				ping_local(domains);
				ping(domains);
			})
		</script>
	</body>
</html>

0




https://url-checker.indrive.com:443