<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Zomato Blog</title><meta name="description" content=""/><meta name="image" content=" https://b.zmtcdn.com/data/file_assets/621862abf874a7c2be8fdd6d062ca67a1678730126.webp"/><link rel="icon" type="image/png" href="https://b.zmtcdn.com/data/o2_assets/ccff3d3c013893ebb8344c87c2c8ead51678730101.png"/><link rel="canonical" href="https://blog.zomato.com"/><meta name="twitter:card" content="summary"/><meta property="og:url" content="https://blog.zomato.com"/><meta property="og:title" content="Zomato Blog"/><meta property="og:image" content=" https://b.zmtcdn.com/data/file_assets/621862abf874a7c2be8fdd6d062ca67a1678730126.webp"/><link rel="preload" as="image" href="https://b.zmtcdn.com/data/file_assets/621862abf874a7c2be8fdd6d062ca67a1678705718.webp"/><link rel="preload" as="image" href="https://b.zmtcdn.com/data/file_assets/ba699424a1fc6d19be8f1a898956aacf1678705754.webp"/><meta name="next-head-count" content="13"/><link rel="preload" href="/_next/static/css/65078d5214cb8e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/65078d5214cb8e34.css" data-n-g=""/><link rel="preload" href="/_next/static/css/e26ef2c903737400.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e26ef2c903737400.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-6ef43a8d4a395f49.js" defer=""></script><script src="/_next/static/chunks/framework-2c79e2a64abdb08b.js" defer=""></script><script src="/_next/static/chunks/main-24a34fda62dbbc35.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f1b70bb7bcd9a514.js" defer=""></script><script src="/_next/static/chunks/971-0533ea6e856fe465.js" defer=""></script><script src="/_next/static/chunks/pages/index-4014be318c908b4d.js" defer=""></script><script src="/_next/static/CO9IzuE3AxJgAHUzi4xGH/_buildManifest.js" defer=""></script><script src="/_next/static/CO9IzuE3AxJgAHUzi4xGH/_ssgManifest.js" defer=""></script></head><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/monokai-sublime.min.css"/><body><div id="__next"><div class="homePageLayout_site__vv4bp"><div class="homePageLayout_site_Content__Zyumn"><div class="header_container__du_8n"><img alt="Zomato Logo" src="https://b.zmtcdn.com/data/file_assets/621862abf874a7c2be8fdd6d062ca67a1678705718.webp" decoding="async" data-nimg="fill" class="header_desktop_img__BP1_L header_header_img__hTLtO animate" style="position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;color:transparent"/><img alt="Zomato Logo" src="https://b.zmtcdn.com/data/file_assets/ba699424a1fc6d19be8f1a898956aacf1678705754.webp" decoding="async" data-nimg="fill" class="header_mobile_img__qkxEj header_header_img__hTLtO animate" style="position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;color:transparent"/></div><div class="category_container__YUjzx"><div class="category_items___QH64"><div class="category_topMenu_container__fdd12"><ul class="category_menu_list__6p0ST"><li class="category_menu_item__xnTex"><a class="category_menu_name__c3MJL category_selected_menu__UyvXs" href="/">All Categories</a></li><li class="category_menu_item__xnTex"><a class="category_menu_name__c3MJL " href="/category/community">Community</a></li><li class="category_menu_item__xnTex"><a class="category_menu_name__c3MJL " href="/category/company">Company</a></li><li class="category_menu_item__xnTex"><a class="category_menu_name__c3MJL " href="/category/culture">Culture</a></li><li class="category_menu_item__xnTex"><a class="category_menu_name__c3MJL " href="/category/technology">Technology</a></li></ul></div></div></div><div class="blogList_container___pM_V"><div class="blogList_flex_container__mL_3Y"><div><div class="blogCard_card__g4s2a"><a class="blogCard_image_link__Gt6qj" href="/q2fy24"><div class="blogCard_category_tag__Q0gH0"><p class="blogCard_category_text__I7B_4">Company</p></div><div class="blogCard_image__arU_2 animate"><img alt="q2fy24" src="https://zomatoblog.com/wp-content/uploads/2023/11/Blog-cover-2-1.png" class="blogCard_image__arU_2 animate"/></div></a><div class="blogCard_content__iJcoQ blogCard_padding_zero__Ba6I9"><div class="text-font-family blogCard_blog_date__LbplO"><span style="font-weight:bold">Deepinder Goyal</span> | November 3, 2023 | <span>1 min read</span></div><a class="text-font-family blogCard_blog_title__Ntvch blogCard_content_space__3KBoA" href="/q2fy24">Q2FY24 shareholders’ letter and results</a><div class="text-font-family blogCard_blog_content__LfMQr blogCard_content_space__3KBoA"><p>A quick capture of headline results from this quarter</p>
</div></div></div></div><div><div class="blogCard_card__g4s2a"><a class="blogCard_image_link__Gt6qj" href="/how-we-improved-our-android-app-startup-time-by-over-20-with-baseline-profile"><div class="blogCard_category_tag__Q0gH0"><p class="blogCard_category_text__I7B_4">Technology</p></div><div class="blogCard_image__arU_2 animate"><img alt="how-we-improved-our-android-app-startup-time-by-over-20-with-baseline-profile" src="https://zomatoblog.com/wp-content/uploads/2023/10/image7.png" class="blogCard_image__arU_2 animate"/></div></a><div class="blogCard_content__iJcoQ blogCard_padding_zero__Ba6I9"><div class="text-font-family blogCard_blog_date__LbplO"><span style="font-weight:bold">Dilip Sharma</span> | October 13, 2023 | <span>4 min read</span></div><a class="text-font-family blogCard_blog_title__Ntvch blogCard_content_space__3KBoA" href="/how-we-improved-our-android-app-startup-time-by-over-20-with-baseline-profile">How we improved our Android app startup time by over 20% with Baseline Profile</a><div class="text-font-family blogCard_blog_content__LfMQr blogCard_content_space__3KBoA"><p>Baseline Profiles have boosted our Android app’s startup speed by over 20%. This blog explores our journey from optimization techniques to tackling testing challenges that have resulted in a smoother, faster user experience.</p>
</div></div></div></div><div><div class="blogCard_card__g4s2a"><a class="blogCard_image_link__Gt6qj" href="/introducing-tips-for-the-kitchen-staff"><div class="blogCard_category_tag__Q0gH0"><p class="blogCard_category_text__I7B_4">Community</p></div><div class="blogCard_image__arU_2 animate"><img alt="introducing-tips-for-the-kitchen-staff" src="https://zomatoblog.com/wp-content/uploads/2023/09/blog-header.png" class="blogCard_image__arU_2 animate"/></div></a><div class="blogCard_content__iJcoQ blogCard_padding_zero__Ba6I9"><div class="text-font-family blogCard_blog_date__LbplO"><span style="font-weight:bold">Jahnvi Goyal</span> | September 21, 2023 | <span>3 min read</span></div><a class="text-font-family blogCard_blog_title__Ntvch blogCard_content_space__3KBoA" href="/introducing-tips-for-the-kitchen-staff">Introducing Tips For The Kitchen Staff: An Initiative that Celebrates Restaurants</a><div class="text-font-family blogCard_blog_content__LfMQr blogCard_content_space__3KBoA"><p>Share your love and gratitude with the kitchen staff of your favorite restaurants you order from with ‘Tips for the kitchen staff’.</p>
</div></div></div></div><div><div class="blogCard_card__g4s2a"><a class="blogCard_image_link__Gt6qj" href="/introducing-vinifera"><div class="blogCard_category_tag__Q0gH0"><p class="blogCard_category_text__I7B_4">Technology</p></div><div class="blogCard_image__arU_2 animate"><img alt="introducing-vinifera" src="https://zomatoblog.com/wp-content/uploads/2023/09/image7.jpg" class="blogCard_image__arU_2 animate"/></div></a><div class="blogCard_content__iJcoQ blogCard_padding_zero__Ba6I9"><div class="text-font-family blogCard_blog_date__LbplO"><span style="font-weight:bold">Security Team</span> | September 13, 2023 | <span>6 min read</span></div><a class="text-font-family blogCard_blog_title__Ntvch blogCard_content_space__3KBoA" href="/introducing-vinifera">Introducing Vinifera: A guide on how it prevents and mitigates accidental data leaks at scale</a><div class="text-font-family blogCard_blog_content__LfMQr blogCard_content_space__3KBoA"><p>Vinifera is an open-source in-house monitoring tool for enhancing digital security. This blog covers its development journey, architectural foundations and challenges it has encountered and overcome along the way.</p>
</div></div></div></div></div></div><div class="loader_container__MSEYw"><img class="loader_loader__QELSd" alt="Loading..." src="https://b.zmtcdn.com/data/o2_assets/87e1121d8759f6d059b628ead2df90f61678730006.gif"/></div><div class="footer_container__Mzdlq"><div class="footer_custom_footer__eDfq9"><div class="footer_flex_footer__IpNHJ"><div class="text-font-family footer_footer_text__lYHye"></div></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"categories":[{"databaseId":0,"name":"All Categories","slug":"","uri":""},{"__typename":"Category","databaseId":759775364,"name":"Community","slug":"community","uri":"/category/community/"},{"__typename":"Category","databaseId":759775365,"name":"Company","slug":"company","uri":"/category/company/"},{"__typename":"Category","databaseId":759775366,"name":"Culture","slug":"culture","uri":"/category/culture/"},{"__typename":"Category","databaseId":759775375,"name":"Technology","slug":"technology","uri":"/category/technology/"}],"posts":{"__typename":"RootQueryToPostConnection","nodes":[{"__typename":"Post","date":"2023-11-03T15:10:47","excerpt":"\u003cp\u003eA quick capture of headline results from this quarter\u003c/p\u003e\n","title":"Q2FY24 shareholders’ letter and results","slug":"q2fy24","id":"cG9zdDoxMzE5Mw==","content":"\n\u003cfigure class=\"wp-block-image alignfull size-large\"\u003e\u003cimg decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"511\" style='width:100%' src=\"https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/11/Consolidated.png?resize=640%2C511\u0026#038;ssl=1\" alt=\"\" class=\"wp-image-13196\" srcset=\"https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/11/Consolidated.png?resize=1024%2C818\u0026amp;ssl=1 1024w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/11/Consolidated.png?resize=300%2C240\u0026amp;ssl=1 300w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/11/Consolidated.png?resize=768%2C613\u0026amp;ssl=1 768w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/11/Consolidated.png?resize=1536%2C1226\u0026amp;ssl=1 1536w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/11/Consolidated.png?resize=2048%2C1635\u0026amp;ssl=1 2048w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/11/Consolidated.png?resize=1568%2C1252\u0026amp;ssl=1 1568w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/11/Consolidated.png?w=1280\u0026amp;ssl=1 1280w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/11/Consolidated.png?w=1920\u0026amp;ssl=1 1920w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" /\u003e\u003c/figure\u003e\n\n\n\n\u003cp\u003e\u003cbr\u003e\u003cstrong\u003eMilestone Alert\u003c/strong\u003e\u003cbr\u003eQuick commerce (Blinkit) business turned Contribution positive in Q2FY24 for the first time, for the entire quarter. The Contribution margin (as a % of GOV) in the business has improved from -7.3% in Q2FY23 last year (when we acquired the business) to +1.3% now in Q2FY24.\u003cbr\u003e\u003c/p\u003e\n\n\n\n\u003cdiv class=\"wp-block-file\"\u003e\u003ca href=\"https://drive.google.com/file/d/1Xa9bq1MtF5EsLVA9zddPD8GIOrSgZrZz/view?usp=sharing\"\u003eClick here to download Q2FY24 results\u003c/a\u003e\u003ca style=\"margin-left:0.75em;background: #32373c;border-radius: 2em;color: #fff;font-size: 13px;padding: 0.5em 1em\"href=\"https://drive.google.com/file/d/1Xa9bq1MtF5EsLVA9zddPD8GIOrSgZrZz/view?usp=sharing\" class=\"wp-block-file__button\" download=\"\"\u003eDownload\u003c/a\u003e\u003c/div\u003e\n","author":{"__typename":"NodeWithAuthorToUserConnectionEdge","node":{"__typename":"User","name":"Deepinder Goyal"}},"categories":{"__typename":"PostToCategoryConnection","nodes":[{"__typename":"Category","name":"Company","databaseId":759775365,"uri":"/category/company/","slug":"company"}]},"featuredImage":{"__typename":"NodeWithFeaturedImageToMediaItemConnectionEdge","node":{"__typename":"MediaItem","altText":"","mediaItemUrl":"https://zomatoblog.com/wp-content/uploads/2023/11/Blog-cover-2-1.png"}},"uri":"/q2fy24/"},{"__typename":"Post","date":"2023-10-13T14:26:23","excerpt":"\u003cp\u003eBaseline Profiles have boosted our Android app\u0026#8217;s startup speed by over 20%. This blog explores our journey from optimization techniques to tackling testing challenges that have resulted in a smoother, faster user experience.\u003c/p\u003e\n","title":"How we improved our Android app startup time by over 20% with Baseline Profile","slug":"how-we-improved-our-android-app-startup-time-by-over-20-with-baseline-profile","id":"cG9zdDoxMzE0Nw==","content":"\n\u003cp\u003eA seamless and speedy user experience can determine an app\u0026#8217;s success by improving retention rates and thereby making a big difference for a business. In our commitment to providing an exceptional user experience, we utilize a wide range of optimization methods and techniques, and in this blog, we shine light on one such technique: \u003cstrong\u003eBaseline Profiles\u003c/strong\u003e. This game-changing approach has significantly enhanced our app\u0026#8217;s startup, demonstrating its power in the realm of Android app optimization.\u003c/p\u003e\n\n\n\n\u003cp\u003eBaseline Profiles help apps to start and run faster by optimizing \u003cstrong\u003ecritical code paths\u003c/strong\u003e ahead of time, resulting in a smoother and seamless user experience. When we include a Baseline Profile in an app or software, Android Runtime (\u003ca href=\"https://source.android.com/docs/core/runtime\"\u003eART\u003c/a\u003e) can make the important parts of the code run faster before we even use them. This helps the app work better for everyone who uses it, whether they just downloaded it or updated it. This special way of making things faster is called \u003cstrong\u003eProfile Guided Optimization\u003c/strong\u003e (\u003ca href=\"https://developer.android.com/games/agde/pgo-overview\"\u003ePGO\u003c/a\u003e) which means that the app can start faster, work smoother, and be better overall right from the very first time you open it.\u003c/p\u003e\n\n\n\n\u003ch3 class=\"wp-block-heading\"\u003eHow does it work?\u003c/h3\u003e\n\n\n\n\u003cp\u003eTo understand its working, let’s see how an app compilation works. The source code is first compiled into bytecode and then converted into Dalvik Executable (DEX) bytecode for Android\u0026#8217;s runtime. Resources like images and layouts are compiled too. Then, these components are packaged into an APK, signed with a digital certificate, and then installed on an Android device.\u003c/p\u003e\n\n\n\n\u003cfigure class=\"wp-block-gallery has-nested-images columns-default is-cropped wp-block-gallery-1 is-layout-flex wp-block-gallery-is-layout-flex\"\u003e\n\u003cfigure class=\"wp-block-image size-large\"\u003e\u003cimg decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"279\" data-id=\"13181\" src=\"https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image8-2.webp?resize=640%2C279\u0026#038;ssl=1\" alt=\"\" class=\"wp-image-13181\" srcset=\"https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image8-2.webp?w=640\u0026amp;ssl=1 640w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image8-2.webp?resize=300%2C131\u0026amp;ssl=1 300w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" /\u003e\u003c/figure\u003e\n\u003c/figure\u003e\n\n\n\n\u003cp\u003eUpon the initial execution following an installation or an update, the app\u0026#8217;s code functions in an interpreted state until it undergoes \u0026#8220;\u003cstrong\u003eJust-in-time\u003c/strong\u003e\u0026#8221; compilation (\u003ca href=\"https://stackoverflow.com/questions/3718024/jit-vs-interpreters\"\u003eread more\u003c/a\u003e). While Java and Kotlin code within the APK is converted into dex bytecode, full translation into machine code is avoided (as of \u003cstrong\u003eAndroid 6\u003c/strong\u003e) due to storage and loading expenses. Both app classes and methods that observe regular usage, including those pivotal for app initiation, are logged in a profile document. As the device enters an idle mode, ART compiles the applications using these profiles, resulting in an accelerated launch for subsequent app instances.\u003c/p\u003e\n\n\n\u003cdiv class=\"wp-block-image\"\u003e\n\u003cfigure class=\"aligncenter size-large is-resized\"\u003e\u003cimg decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"294\" src=\"https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image2.png?resize=640%2C294\u0026#038;ssl=1\" alt=\"\" class=\"wp-image-13151\" style=\"aspect-ratio:2.1740976645435244;width:652px;height:auto\" srcset=\"https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image2.png?resize=1024%2C471\u0026amp;ssl=1 1024w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image2.png?resize=300%2C138\u0026amp;ssl=1 300w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image2.png?resize=768%2C353\u0026amp;ssl=1 768w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image2.png?resize=1536%2C706\u0026amp;ssl=1 1536w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image2.png?resize=1568%2C721\u0026amp;ssl=1 1568w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image2.png?w=1588\u0026amp;ssl=1 1588w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image2.png?w=1280\u0026amp;ssl=1 1280w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" /\u003e\u003c/figure\u003e\u003c/div\u003e\n\n\u003cdiv class=\"wp-block-image\"\u003e\n\u003cfigure class=\"aligncenter size-large is-resized\"\u003e\u003cimg decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"248\" src=\"https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image3.png?resize=640%2C248\u0026#038;ssl=1\" alt=\"\" class=\"wp-image-13152\" style=\"aspect-ratio:2.585858585858586;width:700px;height:auto\" srcset=\"https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image3.png?resize=1024%2C396\u0026amp;ssl=1 1024w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image3.png?resize=300%2C116\u0026amp;ssl=1 300w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image3.png?resize=768%2C297\u0026amp;ssl=1 768w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image3.png?resize=1536%2C594\u0026amp;ssl=1 1536w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image3.png?resize=1568%2C606\u0026amp;ssl=1 1568w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image3.png?w=1836\u0026amp;ssl=1 1836w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image3.png?w=1280\u0026amp;ssl=1 1280w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" /\u003e\u003c/figure\u003e\u003c/div\u003e\n\n\n\u003cfigure class=\"wp-block-gallery has-nested-images columns-default is-cropped wp-block-gallery-3 is-layout-flex wp-block-gallery-is-layout-flex\"\u003e\u003cdiv class=\"wp-block-image\"\u003e\n\u003cfigure class=\"aligncenter size-large\"\u003e\u003cimg decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"323\" data-id=\"13154\" src=\"https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image6.png?resize=640%2C323\u0026#038;ssl=1\" alt=\"\" class=\"wp-image-13154\" srcset=\"https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image6.png?resize=1024%2C517\u0026amp;ssl=1 1024w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image6.png?resize=300%2C151\u0026amp;ssl=1 300w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image6.png?resize=768%2C387\u0026amp;ssl=1 768w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image6.png?w=1102\u0026amp;ssl=1 1102w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" /\u003e\u003c/figure\u003e\u003c/div\u003e\u003c/figure\u003e\n\n\n\u003cdiv class=\"wp-block-image\"\u003e\n\u003cfigure class=\"aligncenter size-full is-resized\"\u003e\u003cimg decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"484\" src=\"https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image5.png?resize=640%2C484\u0026#038;ssl=1\" alt=\"\" class=\"wp-image-13157\" style=\"aspect-ratio:1.3213296398891967;width:665px;height:auto\" srcset=\"https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image5.png?w=954\u0026amp;ssl=1 954w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image5.png?resize=300%2C227\u0026amp;ssl=1 300w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image5.png?resize=768%2C581\u0026amp;ssl=1 768w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" /\u003e\u003c/figure\u003e\u003c/div\u003e\n\n\n\u003ch3 class=\"wp-block-heading\"\u003eCloud Profiles\u003c/h3\u003e\n\n\n\n\u003cp\u003eStarting with \u003cstrong\u003eAndroid 9\u003c/strong\u003e (API level 28), Google Play also provides \u003ca href=\"https://android-developers.googleblog.com/2019/04/improving-app-performance-with-art.html\"\u003eCloud Profiles\u003c/a\u003e. As an app operates on a device, the profiles generated by ART are transmitted via the Play Store app and aggregated within the cloud. Once a sufficient number of profiles have been uploaded for a specific application, the Play app uses the aggregated profile for subsequent installs.\u003c/p\u003e\n\n\n\n\u003ch3 class=\"wp-block-heading\"\u003eProblem With Cloud Profiles\u003c/h3\u003e\n\n\n\n\u003cp\u003eWhile Cloud Profiles are great when they are available, they aren\u0026#8217;t always ready to be used when an app is installed. Collecting and aggregating the profiles usually takes several days, which is a problem in the context of frequent weekly app updates. This often results in users updating their apps prior to the Cloud Profile being ready. The \u003cstrong\u003eGoogle Android team\u003c/strong\u003e has been looking for other ways to improve the latency of profiles.\u003c/p\u003e\n\n\n\n\u003cp\u003eBaseline Profiles are a new mechanism to provide profiles which can be used on \u003cstrong\u003eAndroid 7\u003c/strong\u003e (API level 24) and higher. A baseline profile is an ART profile generated by the Android Gradle plugin using a human readable profile format, which can be supplied by apps and libraries. An example might look like this:\u003c/p\u003e\n\n\n\n\u003cpre class=\"wp-block-code\"\u003e\u003ccode\u003eHSPLandroidx/compose/runtime/ComposerImpl;-\u0026gt;updateValue(Ljava/lang/Object;)V\nHSPLandroidx/compose/runtime/ComposerImpl;-\u0026gt;updatedNodeCount(I)I\nHLandroidx/compose/runtime/ComposerImpl;-\u0026gt;validateNodeExpected()V\nPLandroidx/compose/runtime/CompositionImpl;-\u0026gt;applyChanges()V\nHLandroidx/compose/runtime/ComposerKt;-\u0026gt;findLocation(Ljava/util/List;I)I\u003c/code\u003e\u003c/pre\u003e\n\n\n\n\u003cp\u003eBaseline Profiles are created during build time, becoming a component of the APK shipped to the Play Store, and subsequently distributed to users upon app downloads.They fill the gap in the ART Cloud Profile pipeline, when Cloud Profiles are not yet available, and automatically merge with Cloud Profiles once they are.\u003c/p\u003e\n\n\n\n\u003ch3 class=\"wp-block-heading\"\u003eGetting Started with Baseline Profiles\u003c/h3\u003e\n\n\n\n\u003cp\u003e\u003ca href=\"https://developer.android.com/topic/performance/baselineprofiles/create-baselineprofile\"\u003eGenerating Baseline Profiles\u003c/a\u003e is straightforward. One can use the \u003ca href=\"https://developer.android.com/topic/performance/benchmarking/macrobenchmark-overview\"\u003eJetpack Macrobenchmark library\u003c/a\u003e to create a simple instrumentation test. This test should cover critical user journeys within the app, guaranteeing the optimization of the most important parts.\u003cbr\u003e\u003cbr\u003eWhile creating a test for a user journey within our app, we encountered significant challenges concerning the configuration of our \u003cstrong\u003eZomato\u003c/strong\u003e application. These challenges encompassed tasks such as permission management and the establishment of mock locations. When we ran our app in \u003ca href=\"https://firebase.google.com/docs/test-lab\"\u003eFirebase Test Lab\u003c/a\u003e or Emulator, it was not able to run the user journeys test because of the different environment. We needed to replicate the similar configuration of the app, mimicking how a typical user interacts with it. Given the limited availability of resources on writing tests with \u003ca href=\"https://developer.android.com/training/testing/other-components/ui-automator\"\u003eUiAutomator\u003c/a\u003e, we navigated these hurdles through a process of trial and error, drawing insights from various sources to successfully integrate these functionalities into our testing framework.\u003c/p\u003e\n\n\n\u003cdiv class=\"wp-block-image\"\u003e\n\u003cfigure class=\"aligncenter size-large is-resized\"\u003e\u003cimg decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"761\" src=\"https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image4.png?resize=640%2C761\u0026#038;ssl=1\" alt=\"\" class=\"wp-image-13159\" style=\"aspect-ratio:0.8408203125;width:567px;height:auto\" srcset=\"https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image4.png?resize=861%2C1024\u0026amp;ssl=1 861w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image4.png?resize=252%2C300\u0026amp;ssl=1 252w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image4.png?resize=768%2C913\u0026amp;ssl=1 768w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image4.png?w=1056\u0026amp;ssl=1 1056w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" /\u003e\u003c/figure\u003e\u003c/div\u003e\n\n\n\u003cp\u003eWe\u0026#8217;ve implemented a GitHub Action that automates the execution of these tests, ensuring the generation of a baseline profile on \u003cstrong\u003eFirebase Test Lab\u003c/strong\u003e just before each app release.\u003c/p\u003e\n\n\n\n\u003cpre class=\"wp-block-code\"\u003e\u003ccode\u003egcloud firebase test android run \\\n--type instrumentation \\\n--app ${{ env.APK_PATH }} \\\n--test ${{ env.TEST_PATH }} \\\n--device model=oriole,version=33,locale=en,orientation=portrait \\\n--directories-to-pull /sdcard/Android/media/com.zomato.benchmark \\\n--test-targets \"class com.zomato.benchmark.BaselineProfileGenerator\" \\\n--timeout 1200s \\\n--num-flaky-test-attempts 1\u003c/code\u003e\u003c/pre\u003e\n\n\n\n\u003cp\u003eOnce generated, the profile file is placed in your app\u0026#8217;s source folder. It gets merged with profiles from other dependencies and is included in your app bundle, ready to be distributed via Google Play.\u003c/p\u003e\n\n\n\n\u003cp\u003e\u003cstrong\u003eVerifying the Benefits\u003c/strong\u003e\u003cbr\u003eYou can verify the performance benefits of Baseline Profiles through field metrics, such as \u003cstrong\u003eGoogle Play Vitals\u003c/strong\u003e, or by running benchmarks locally on a device. The results are typically faster app startups and smoother experiences. It reduced our app cold startup by ~\u003cstrong\u003e20% \u003c/strong\u003efrom 3.47% to 2.81%.\u003c/p\u003e\n\n\n\u003cdiv class=\"wp-block-image\"\u003e\n\u003cfigure class=\"aligncenter size-large is-resized\"\u003e\u003cimg decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"193\" src=\"https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image1.png?resize=640%2C193\u0026#038;ssl=1\" alt=\"\" class=\"wp-image-13163\" style=\"aspect-ratio:3.324675324675325;width:777px;height:auto\" srcset=\"https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image1.png?resize=1024%2C308\u0026amp;ssl=1 1024w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image1.png?resize=300%2C90\u0026amp;ssl=1 300w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image1.png?resize=768%2C231\u0026amp;ssl=1 768w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image1.png?resize=1536%2C462\u0026amp;ssl=1 1536w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image1.png?resize=1568%2C471\u0026amp;ssl=1 1568w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image1.png?w=1999\u0026amp;ssl=1 1999w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image1.png?w=1280\u0026amp;ssl=1 1280w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/10/image1.png?w=1920\u0026amp;ssl=1 1920w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" /\u003e\u003c/figure\u003e\u003c/div\u003e\n\n\n\u003ch3 class=\"wp-block-heading\"\u003eA Better User Experience\u003c/h3\u003e\n\n\n\n\u003cp\u003eIn conclusion, Baseline Profiles are a game-changer for Android app developers. They offer a straightforward way to enhance your app\u0026#8217;s performance without major code overhauls. New users get faster initial experiences, and existing users enjoy more consistent performance. So, why not make a Baseline Profile and give your users the snappiest app experience possible?\u003c/p\u003e\n\n\n\n\u003ch3 class=\"wp-block-heading\"\u003eReferences\u003c/h3\u003e\n\n\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://android-developers.googleblog.com/2022/01/improving-app-performance-with-baseline.html\"\u003ehttps://android-developers.googleblog.com/2022/01/improving-app-performance-with-baseline.html\u003c/a\u003e\u003c/li\u003e\n\n\n\n\u003cli\u003e\u003ca href=\"https://developer.android.com/topic/performance/baselineprofiles/overview\"\u003ehttps://developer.android.com/topic/performance/baselineprofiles/overview\u003c/a\u003e\u003c/li\u003e\n\n\n\n\u003cli\u003e\u003ca href=\"https://www.droidcon.com/2022/06/28/making-apps-blazing-fast-with-baseline-profiles/\"\u003ehttps://www.droidcon.com/2022/06/28/making-apps-blazing-fast-with-baseline-profiles/\u003c/a\u003e\u003c/li\u003e\n\n\n\n\u003cli\u003e\u003ca href=\"https://android-developers.googleblog.com/2019/04/improving-app-performance-with-art.html\"\u003ehttps://android-developers.googleblog.com/2019/04/improving-app-performance-with-art.html\u003c/a\u003e\u003c/li\u003e\n\n\n\n\u003cli\u003e\u003ca href=\"https://medium.com/androiddevelopers/improving-performance-with-baseline-profiles-fdd0db0d8cc6\"\u003ehttps://medium.com/androiddevelopers/improving-performance-with-baseline-profiles-fdd0db0d8cc6\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n","author":{"__typename":"NodeWithAuthorToUserConnectionEdge","node":{"__typename":"User","name":"Dilip Sharma"}},"categories":{"__typename":"PostToCategoryConnection","nodes":[{"__typename":"Category","name":"Technology","databaseId":759775375,"uri":"/category/technology/","slug":"technology"}]},"featuredImage":{"__typename":"NodeWithFeaturedImageToMediaItemConnectionEdge","node":{"__typename":"MediaItem","altText":"","mediaItemUrl":"https://zomatoblog.com/wp-content/uploads/2023/10/image7.png"}},"uri":"/how-we-improved-our-android-app-startup-time-by-over-20-with-baseline-profile/"},{"__typename":"Post","date":"2023-09-21T12:31:55","excerpt":"\u003cp\u003eShare your love and gratitude with the kitchen staff of your favorite restaurants you order from with ‘Tips for the kitchen staff’.\u003c/p\u003e\n","title":"Introducing Tips For The Kitchen Staff: An Initiative that Celebrates Restaurants","slug":"introducing-tips-for-the-kitchen-staff","id":"cG9zdDoxMzEzMw==","content":"\n\u003cp\u003eWe are excited to launch the ‘Tips for the kitchen staff’ feature on our platform that now allows our customers to show appreciation for the food our restaurant partners prepare for them, every time they order. At Zomato, we understand that a lot of hard work, skill, and creativity goes behind preparing food, and we keep asking ourselves \u0026#8211; how can we motivate not just the restaurants but also their kitchen staff to continue working their magic. And to motivate them, we have introduced ‘Tips for the kitchen staff’. With this feature, customers can tip the restaurant’s kitchen staff \u0026#8211; the wonderful chefs, cleaning staff, helpers, etc. as a way of appreciation. This new feature will enrich the food ordering and delivery experience for both our restaurant partners and customers.\u0026nbsp;\u003c/p\u003e\n\n\n\n\u003cp\u003eBuilding on the success of a 2018 initiative that allows customers to tip delivery partners, this is a similar initiative which is introduced based on inputs from Zomato’s restaurant partner network. The introduction of ‘Tips for the kitchen staff’ feature enables the customers to seamlessly express gratitude for their food deliveries, an option that was limited to traditional dining-in experience until now.\u003c/p\u003e\n\n\n\n\u003cp\u003e\u003cstrong\u003eAs a customer, what are the options I have to tip?\u003c/strong\u003e\u003c/p\u003e\n\n\n\n\u003cp\u003eFor a seamless customer experience, customers are asked if they would like to tip the restaurant’s kitchen staff after they have rated their order 4 or 5 stars. Customers also have the option to tip the restaurant kitchen staff from the live order tracking page after placing the order.\u0026nbsp;\u003c/p\u003e\n\n\n\n\u003cp\u003eWe recognize that the customers are used to paying a service charge in terms of % of their order value. Therefore, on the platform you will find the option to tip the kitchen staff in % ranging from 3% to 10% of your item value. However, if you do not want to select from one of the pre defined % slabs, you can also enter any amount of your choice up to a maximum cap.\u003c/p\u003e\n\n\n\n\u003cfigure class=\"wp-block-image alignfull\"\u003e\u003cimg decoding=\"async\" src=\"https://lh5.googleusercontent.com/LTsnm_Uhg36IVVJCU0WooEOd_N3aixGc0J_WUIVbqsrqK8ITINHTJ0BMiVMflLpvfvyicSsnXT45ITp2JiTP5gpW25Y6lM27Bzyi3UpvZfbIpZOdyvRN7JCCBr7rQWdWhb-my7jviSdtdUECTXFyFWI\" alt=\"\"/\u003e\u003c/figure\u003e\n\n\n\n\u003cfigure class=\"wp-block-image alignfull\"\u003e\u003cimg decoding=\"async\" src=\"https://lh5.googleusercontent.com/0k5MAc6rleG1eJetHQsRK-GhRZMBLB6HciXePb9ZArueWEhKwvakNkg42KNQJ6bta5H4WKSOxbV_3dyC_iFMrEPLBE8m_yX_W82yH0YzBd33bJ8MVPfVxghSqdrgBsUYNy7WrS4H4hfm9fUbGU8aDV8\" alt=\"\"/\u003e\u003c/figure\u003e\n\n\n\n\u003cp\u003e\u003cstrong\u003eHow do the restaurants receive tips?\u003c/strong\u003e\u003c/p\u003e\n\n\n\n\u003cp\u003eThe entire tip amount that customers pay is credited to restaurants (after any tax deductions, if applicable) to be distributed among their staff. Zomato does not keep any commissions out of the tip amount and it is passed through 100%. Our restaurant partners can keep a track of tips in their weekly payouts and statement of account on the merchant app or web dashboard.\u003c/p\u003e\n\n\n\n\u003cp\u003eIf you are from the restaurant management, we ask you to sign a pledge to distribute the entire amount among your staff, should you be keen to be included in the program! This feature is now live on our platform and we are truly looking forward to providing an elevated food ordering and delivery experience to both our customers and restaurant partners!\u0026nbsp;\u003c/p\u003e\n\n\n\n\u003cp\u003e\u003cstrong\u003eThe team that made it all possible\u0026nbsp;\u003c/strong\u003e\u003c/p\u003e\n\n\n\n\u003cp\u003eWe would like to express our heartfelt thanks to the team that made it all possible in a small amount of time \u0026#8211; Prateek from the design team and Ritick, Satyaprakash, Ishika, Rishabh, Devang, Saksham, Tanishq, Dilip. Special mention to Rana \u0026#8211; our engineering rock star for seamlessly ensuring collaboration between multiple teams such as billing tech, merchant tech, consumer tech, iOS and Android to launch this update.\u003c/p\u003e\n\n\n\n\u003cp\u003eThe next time you love something you order from your favorite restaurant, thank the team behind the scenes in a way that motivates them a lot. With a tip!\u003c/p\u003e\n","author":{"__typename":"NodeWithAuthorToUserConnectionEdge","node":{"__typename":"User","name":"Jahnvi Goyal"}},"categories":{"__typename":"PostToCategoryConnection","nodes":[{"__typename":"Category","name":"Community","databaseId":759775364,"uri":"/category/community/","slug":"community"}]},"featuredImage":{"__typename":"NodeWithFeaturedImageToMediaItemConnectionEdge","node":{"__typename":"MediaItem","altText":"","mediaItemUrl":"https://zomatoblog.com/wp-content/uploads/2023/09/blog-header.png"}},"uri":"/introducing-tips-for-the-kitchen-staff/"},{"__typename":"Post","date":"2023-09-13T21:08:52","excerpt":"\u003cp\u003eVinifera is an open-source in-house monitoring tool for enhancing digital security. This blog covers its development journey, architectural foundations and challenges it has encountered and overcome along the way.\u003c/p\u003e\n","title":"Introducing Vinifera: A guide on how it prevents and mitigates accidental data leaks at scale","slug":"introducing-vinifera","id":"cG9zdDoxMzA4Mw==","content":"\n\u003cp\u003eVinifera is an open-source monitoring tool that detects and responds to accidental or critical sensitive leaks. It monitors public contributions made by developers across their repositories, forks, and gists, and notifies if any sensitive information is leaked. Started as a tool to monitor Github activity, Vinifera has now evolved to support multiple platforms like Gitlab, Slack and Asana.\u003c/p\u003e\n\n\n\n\u003cp\u003eSince we started using Vinifera in 2019, we have been able to prevent many accidental leaks on public platforms. We also \u003ca href=\"https://github.com/zomato/vinifera\"\u003eopen-sourced major components of Vinifera\u003c/a\u003e with the hope that it can help other companies in strengthening their security posture.\u003c/p\u003e\n\n\n\n\u003cp\u003e\u003cstrong\u003eAddressing Security Vulnerabilities: Vinifera\u0026#8217;s Solution for Data Exposures and Proactive Monitoring\u003c/strong\u003e\u003cbr\u003eSensitive data exposures are common yet frequently overlooked security vulnerabilities that are faced by many organizations. This vulnerability class is hard to avoid due to multiple points of exposure and is easy to exploit, making it a sweet target for researchers.\u003c/p\u003e\n\n\n\n\u003cp\u003eFrom an outsider\u0026#8217;s perspective, getting data from internal sources is hard, but it is easy to monitor and wait for someone else to make that information public. The severity of such leaks can range from minor to critical. For example, the leakage of an internal database schema, while not posing an immediate security risk, could potentially assist someone in connecting relevant information and uncovering potential vulnerabilities. The leak of third-party API keys and credentials is not only concerning, but it also exposes the associated data to potential attacks \u0026#8211; providing attackers with an opportunity to infiltrate the network further. In order to address these security vulnerabilities, the following is done —\u003c/p\u003e\n\n\n\n\u003col\u003e\n\u003cli\u003eWe host an internal \u003ca href=\"https://privatebin.info/\"\u003eprivate-bin\u003c/a\u003e and \u003ca href=\"https://github.com/gchq/CyberChef/\"\u003eCyberchef\u003c/a\u003e instance to facilitate easy sharing of internal data and provide essential capabilities for developers in terms of data transformation. While this approach offers some level of support, it does not entirely resolve the problem.\u003c/li\u003e\n\n\n\n\u003cli\u003eVinifera provides continuous monitoring capabilities that enable swift identification and response to leaks. By tracking and scanning registered sources such as users, repositories and gists, Vinifera promptly detects changes or anomalies. This proactive approach enhances data security by allowing for immediate action and risk mitigation towards data leak.\u003c/li\u003e\n\u003c/ol\u003e\n\n\n\n\u003cp\u003e\u003cstrong\u003eVinifera\u0026#8217;s Development Journey\u003c/strong\u003e\u003cbr\u003eVinifera was built using a standard Rails app. The development process involved the following key components —\u003c/p\u003e\n\n\n\n\u003col\u003e\n\u003cli\u003eSidekiq: \u003ca href=\"https://github.com/sidekiq/sidekiq\"\u003eSidekiq\u003c/a\u003e is used for efficient job lifecycle management, enabling tasks such as scheduling and retries\u003c/li\u003e\n\n\n\n\u003cli\u003eGitleaks Integration: \u003ca href=\"https://github.com/gitleaks/gitleaks\"\u003eGitleaks\u0026#8217;\u003c/a\u003e Docker image is used for scanning with communication facilitated through the Docker API\u003c/li\u003e\n\n\n\n\u003cli\u003eData Storage and Cache: \u003ca href=\"https://www.postgresql.org/\"\u003ePostgres\u003c/a\u003e was chosen as the persistent data store, while Redis served as the application cache, ensuring reliable performance\u003c/li\u003e\n\n\n\n\u003cli\u003eSlack Integration: Vinifera provides real-time monitoring and event checking through Slack\u003c/li\u003e\n\n\n\n\u003cli\u003eOn-Call Team Collaboration: Pager events are triggered to notify the on-call team and respond to any security incidents.\u003c/li\u003e\n\u003c/ol\u003e\n\n\n\n\u003cfigure class=\"wp-block-image size-large\"\u003e\u003cimg decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"747\" src=\"https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/image10-1.png?resize=640%2C747\u0026#038;ssl=1\" alt=\"\" class=\"wp-image-13096\" srcset=\"https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/image10-1.png?resize=877%2C1024\u0026amp;ssl=1 877w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/image10-1.png?resize=257%2C300\u0026amp;ssl=1 257w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/image10-1.png?resize=768%2C897\u0026amp;ssl=1 768w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/image10-1.png?resize=1315%2C1536\u0026amp;ssl=1 1315w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/image10-1.png?resize=1568%2C1831\u0026amp;ssl=1 1568w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/image10-1.png?w=1712\u0026amp;ssl=1 1712w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" /\u003e\u003cfigcaption class=\"wp-element-caption\"\u003e\u003cem\u003eVinifera’s architecture\u003c/em\u003e\u003c/figcaption\u003e\u003c/figure\u003e\n\n\n\n\u003cp\u003e\u003cbr\u003e\u003cstrong\u003eVinifera\u0026#8217;s Operations\u003c/strong\u003e\u003cbr\u003eVinifera\u0026#8217;s operations can be broadly categorized into three key phases —\u003c/p\u003e\n\n\n\n\u003col\u003e\n\u003cli\u003eDiscovery: During the discovery phase, Vinifera scans and identifies all assets, actively searching for new targets to monitor. Once identified, these targets are registered for ongoing monitoring and polling.\u003c/li\u003e\n\u003c/ol\u003e\n\n\n\n\u003cp class=\"has-text-align-center\" style='text-align:center'\u003e\u003cimg decoding=\"async\" loading=\"lazy\" src=\"https://lh6.googleusercontent.com/RgxcKQsNKSC1xKf3MVndUE8lqsSSAs8-QWJOYN4UF8umqZ1X7Y0xXpSqsEC9LsF4M9dUIzcl96qnGmrvucfFyHKX2lHxi7QbUqnfGTLmu_5ajvD62qXTP6boeVeX_cI1xc8bKBM5ft_XplKD5IbLuRBasmmwzJl4\" width=\"522\" height=\"249\"\u003e\u003c/p\u003e\n\n\n\n\u003col start=\"2\"\u003e\n\u003cli\u003eLifecycle: After onboarding a new employee into our GitHub organization, we initiate a registration process where they are identified as targets. Subsequently, we conduct comprehensive scans on their public repositories and Gist \u0026#8211; treating them as “assets”. To efficiently track changes, revisions to each asset are stored in a manner that allows quick identification of modifications.\u003c/li\u003e\n\u003c/ol\u003e\n\n\n\u003cdiv class=\"wp-block-image\"\u003e\n\u003cfigure class=\"aligncenter is-resized\"\u003e\u003cimg decoding=\"async\" loading=\"lazy\" src=\"https://lh4.googleusercontent.com/QRkNGfs8sY8fgVstPG03SWZldQU9-Zlu7LiGP1XGupUoQBXJc9TStHZ4jwO97wPM8ThcrjGRTI_AqtPCR3JrO7NXevy1JPjXLkZ1ZbEgqmG2GEYcfb5v1yg0uvBKvU5FDev-bd9r1ojNV9mr8FAOg4la9mzzk8BH\" alt=\"\" style=\"width:514px;height:268px\" width=\"514\" height=\"268\"/\u003e\u003c/figure\u003e\u003c/div\u003e\n\n\n\u003col start=\"3\"\u003e\n\u003cli\u003eScanning: Scanning is triggered via Sidekiq, and all scans are performed within isolated Docker containers, ensuring secure and reliable execution. The scanning process varies based on the type of scan required \u0026#8211; whether it is a repository scan or an analysis of raw files. Vinifera further leverages Datadog to monitor relevant statistics and ensure the overall health of the service.\u003c/li\u003e\n\u003c/ol\u003e\n\n\n\n\u003cfigure class=\"wp-block-image size-large\"\u003e\u003cimg decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"275\" src=\"https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/image1.png?resize=640%2C275\u0026#038;ssl=1\" alt=\"\" class=\"wp-image-13105\" srcset=\"https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/image1.png?resize=1024%2C440\u0026amp;ssl=1 1024w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/image1.png?resize=300%2C129\u0026amp;ssl=1 300w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/image1.png?resize=768%2C330\u0026amp;ssl=1 768w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/image1.png?resize=1536%2C659\u0026amp;ssl=1 1536w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/image1.png?resize=1568%2C673\u0026amp;ssl=1 1568w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/image1.png?w=1999\u0026amp;ssl=1 1999w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/image1.png?w=1280\u0026amp;ssl=1 1280w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/image1.png?w=1920\u0026amp;ssl=1 1920w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" /\u003e\u003c/figure\u003e\n\n\n\n\u003cp\u003e\u003cstrong\u003eAn Overview of the Vinifera System\u003c/strong\u003e\u003cbr\u003eAfter a successful execution of the \u0026#8220;target_monitor\u0026#8221; Sidekiq job, it is re-enqueued for the subsequent scan, with the enqueue information stored in the database. This enables fine-tuning and control over the timing of the next scan.\u003c/p\u003e\n\n\n\n\u003cp\u003eIn the event of failures, Vinifera carefully analyzes the type of errors encountered. If the failures are attributed to issues with GitHub or the Docker Box, appropriate measures are taken to handle and throttle jobs, providing the system with a window to avoid further errors.\u003cbr\u003e\u003cbr\u003e\u003cstrong\u003eScalability Enhancements: Boosting Stability and Performance\u003c/strong\u003e\u003cbr\u003eTo enhance the stability and scalability of Vinifera, we implemented several measures —\u003c/p\u003e\n\n\n\n\u003col\u003e\n\u003cli\u003eAuto throttling of jobs based on error types: When relying on third-party services or internal services with limited capacity, it is necessary to have checks to avoid overwhelming the service. We introduced auto throttling of jobs based on error types, dynamically adjusting limits for specific periods. This approach helps avoid disruption caused by exponential retries, ensuring smooth operation of the service.\u003c/li\u003e\n\u003c/ol\u003e\n\n\n\u003cdiv class=\"wp-block-image\"\u003e\n\u003cfigure class=\"aligncenter\"\u003e\u003cimg decoding=\"async\" src=\"https://lh3.googleusercontent.com/UXE6hZS9vZDNVo7hySAHty-xMYfkp1ZYII9Pk_NXGmp6yLvTdOhkp5ZZelmbLCzKGxoV9b_3bBwg-LVMeMg_Je2jooxtF_eC9XZMSLDPckdjCMOyByBdr1he3FKrDHa-Wx2Ip7eOJFxGQGFc0uDknYU\" alt=\"\"/\u003e\u003c/figure\u003e\u003c/div\u003e\n\n\n\u003cfigure class=\"wp-block-gallery has-nested-images columns-default is-cropped wp-block-gallery-5 is-layout-flex wp-block-gallery-is-layout-flex\"\u003e\n\u003cfigure class=\"wp-block-image size-large\"\u003e\u003cimg decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"295\" data-id=\"13101\" src=\"https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/Screenshot-2023-09-13-at-9.10.57-PM.png?resize=640%2C295\u0026#038;ssl=1\" alt=\"\" class=\"wp-image-13101\" srcset=\"https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/Screenshot-2023-09-13-at-9.10.57-PM.png?resize=1024%2C472\u0026amp;ssl=1 1024w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/Screenshot-2023-09-13-at-9.10.57-PM.png?resize=300%2C138\u0026amp;ssl=1 300w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/Screenshot-2023-09-13-at-9.10.57-PM.png?resize=768%2C354\u0026amp;ssl=1 768w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/Screenshot-2023-09-13-at-9.10.57-PM.png?resize=1536%2C709\u0026amp;ssl=1 1536w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/Screenshot-2023-09-13-at-9.10.57-PM.png?resize=2048%2C945\u0026amp;ssl=1 2048w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/Screenshot-2023-09-13-at-9.10.57-PM.png?resize=1568%2C723\u0026amp;ssl=1 1568w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/Screenshot-2023-09-13-at-9.10.57-PM.png?w=1280\u0026amp;ssl=1 1280w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/Screenshot-2023-09-13-at-9.10.57-PM.png?w=1920\u0026amp;ssl=1 1920w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" /\u003e\u003c/figure\u003e\n\u003c/figure\u003e\n\n\n\n\u003col start=\"2\"\u003e\n\u003cli\u003eCaching GitHub API responses to avoid rate limiting: To mitigate rate-limiting issues, we leveraged caching of GitHub API responses. We employed the \u003ca href=\"https://github.com/sourcelevel/faraday-http-cache\"\u003efaraday-http-cache\u003c/a\u003e library, utilizing response headers like Etag, Last-Modified and Age to cache the responses in Redis. This however, comes with a small impact on storage since responses are now stored in Redis memory.  To ensure efficient storage management, Vinifera employs a selective caching approach. Heavy responses and resources that are not needed for future access are intentionally excluded from the caching process.\u003c/li\u003e\n\u003c/ol\u003e\n\n\n\n\u003col start=\"3\"\u003e\n\u003cli\u003eOptimized scanning of big forks and external projects: Scanning large forks, such as those of substantial open-source projects, posed resource utilization challenges. To address this, we directly determined and scanned the commit patch instead of cloning the entire fork. One of the main causes that spiked resource usage on our Docker daemon was scanning big forks. This arose when a developer forked a large open-source project for contribution, and we scanned the entire repo to look for violations. Some forks were enormous (for example, Linux kernel repo, odoo, android AOSP source code) and sometimes caused the cluster to choke. In some cases, the maximum memory used for scanning reached almost 1GB and ~99% of the total\u0026nbsp;CPU. By leveraging the user activity GitHub API, we could quickly identify commits pushed by developers to collaborative projects or forks, extracting the relevant patch for direct scanning.\u003c/li\u003e\n\u003c/ol\u003e\n\n\n\n\u003col start=\"4\"\u003e\n\u003cli\u003eRunning scans on a dedicated docker daemon: Separating scanning operations to a dedicated machine greatly improved performance and prevented resource congestion. By isolating the scanning process on a separate Docker daemon, we were able to limit the blast radius in case of any issues. This approach ensured the continuity of discovery operations in an uninterrupted manner, in spite of  the dedicated Docker machine experiencing errors. Additionally, we optimized resource allocation by restricting scans to a single CPU core and a fraction of CPU weight, preventing resource exhaustion.\u003cbr\u003e\u003cbr\u003e\u003cimg decoding=\"async\" src=\"https://lh4.googleusercontent.com/6WIV4V0fRBRaBdP-yy3F4_DWlTk1wturzDsDMdkUdlwd3Jvf11FdSw6ZK6MCo2AW404w86cMA5dulWyuEmaGt5rR2_NK9ibVDvPsJdO_NUkp0JWJqStGCVplxNwriOmUSSD1A5rcXe7vENqHdjFsJCU\" style=\"\"\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\n\n\n\u003cp class=\"has-text-align-left\"\u003e\u003cstrong\u003eExpanding Platform Support: Vinifera’s Multi-Service Compatibility\u003c/strong\u003e\u003cbr\u003eVinifera\u0026#8217;s journey began as a monitoring tool for GitHub sources, but it naturally evolved to support GitLab and other services as well. Depending on the platform, Vinifera employs different monitoring approaches to ensure comprehensive coverage —\u003c/p\u003e\n\n\n\n\u003col\u003e\n\u003cli\u003eAsset Monitoring Approach: Services like GitHub and GitLab are monitored using an asset monitoring approach. This involves registering assets and continuously looking for any changes or updates.\u003c/li\u003e\n\n\n\n\u003cli\u003eQuery-Based Monitoring: Services like Slack, Asana, and Intelx are monitored using a query-based approach. Vinifera periodically polls search results against fixed queries, detecting any changes or relevant information.\u003c/li\u003e\n\u003c/ol\u003e\n\n\n\n\u003cp\u003eCurrently, Vinifera supports scanning for the following platforms —\u003c/p\u003e\n\n\n\n\u003cul\u003e\n\u003cli\u003eGitHub\u003c/li\u003e\n\n\n\n\u003cli\u003eGitLab\u003c/li\u003e\n\n\n\n\u003cli\u003eSlack\u003c/li\u003e\n\n\n\n\u003cli\u003eAsana\u003c/li\u003e\n\n\n\n\u003cli\u003eIntelx\u003c/li\u003e\n\u003c/ul\u003e\n\n\n\n\u003cp\u003e\u003ca href=\"https://intelx.io/\"\u003eIntelx\u003c/a\u003e, specifically, serves as a valuable source for monitoring information exposures across various assets. It functions as a search engine that collects and indexes information from multiple public sources. Vinifera leverages Intelx to identify and neutralize any potential exposure risks proactively.\u003c/p\u003e\n\n\n\n\u003cfigure class=\"wp-block-image aligncenter size-large\"\u003e\u003cimg decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"233\" style='width:100%' src=\"https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/Screenshot-2023-09-13-at-9.35.39-PM-3.png?resize=640%2C233\u0026#038;ssl=1\" alt=\"\" class=\"wp-image-13121\" srcset=\"https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/Screenshot-2023-09-13-at-9.35.39-PM-3.png?resize=1024%2C373\u0026amp;ssl=1 1024w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/Screenshot-2023-09-13-at-9.35.39-PM-3.png?resize=300%2C109\u0026amp;ssl=1 300w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/Screenshot-2023-09-13-at-9.35.39-PM-3.png?resize=768%2C279\u0026amp;ssl=1 768w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/Screenshot-2023-09-13-at-9.35.39-PM-3.png?resize=1536%2C559\u0026amp;ssl=1 1536w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/Screenshot-2023-09-13-at-9.35.39-PM-3.png?resize=2048%2C745\u0026amp;ssl=1 2048w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/Screenshot-2023-09-13-at-9.35.39-PM-3.png?resize=1568%2C570\u0026amp;ssl=1 1568w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/Screenshot-2023-09-13-at-9.35.39-PM-3.png?w=1280\u0026amp;ssl=1 1280w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/Screenshot-2023-09-13-at-9.35.39-PM-3.png?w=1920\u0026amp;ssl=1 1920w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" /\u003e\u003cfigcaption class=\"wp-element-caption\"\u003e\u003cem\u003eA snapshot showing information captured from Intelx for our assets\u003c/em\u003e\u003cbr\u003e\u003c/figcaption\u003e\u003c/figure\u003e\n\n\n\u003cdiv class=\"wp-block-image\"\u003e\n\u003cfigure class=\"aligncenter size-large is-resized\"\u003e\u003cimg decoding=\"async\" loading=\"lazy\" src=\"https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/Screenshot-2023-09-13-at-9.36.50-PM.png?resize=640%2C229\u0026#038;ssl=1\" alt=\"\" class=\"wp-image-13113\" style=\"width:834px;height:299px\" width=\"640\" height=\"229\" srcset=\"https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/Screenshot-2023-09-13-at-9.36.50-PM.png?resize=1024%2C367\u0026amp;ssl=1 1024w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/Screenshot-2023-09-13-at-9.36.50-PM.png?resize=300%2C108\u0026amp;ssl=1 300w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/Screenshot-2023-09-13-at-9.36.50-PM.png?resize=768%2C275\u0026amp;ssl=1 768w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/Screenshot-2023-09-13-at-9.36.50-PM.png?resize=1536%2C551\u0026amp;ssl=1 1536w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/Screenshot-2023-09-13-at-9.36.50-PM.png?resize=2048%2C734\u0026amp;ssl=1 2048w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/Screenshot-2023-09-13-at-9.36.50-PM.png?resize=1568%2C562\u0026amp;ssl=1 1568w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/Screenshot-2023-09-13-at-9.36.50-PM.png?w=1280\u0026amp;ssl=1 1280w, https://i0.wp.com/zomatoblog.com/wp-content/uploads/2023/09/Screenshot-2023-09-13-at-9.36.50-PM.png?w=1920\u0026amp;ssl=1 1920w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" /\u003e\u003cfigcaption class=\"wp-element-caption\"\u003e\u003cem\u003eA snapshot showing information captured from Intelx for one of our queries\u003c/em\u003e\u003c/figcaption\u003e\u003c/figure\u003e\u003c/div\u003e\n\n\n\u003cp\u003e\u003cstrong\u003eDistributed Security Alerting\u003c/strong\u003e\u003cbr\u003eWe built a robust alerting and acknowledgment system – DiSeAl (Distributed Security Alerting) to distribute the security alerting across the entire organization and integrated it with Vinifera. Whenever a new resource is registered in Vinifera, our internal lookup logic identifies the corresponding owner within our organization. Subsequently, an alert is sent to the owner, ensuring they are promptly notified of any new public assets associated with their account discovered on Vinifera. This proactive approach empowers users to stay vigilant and report any accidental exposures, aiding in identifying and mitigating potential risks\u003c/p\u003e\n\n\n\u003cdiv class=\"wp-block-image\"\u003e\n\u003cfigure class=\"aligncenter is-resized\"\u003e\u003cimg decoding=\"async\" loading=\"lazy\" src=\"https://lh3.googleusercontent.com/grYNj4M8DpnFA5yC9iunlyDPFYfW4I8T-nu33llB0eQhLTcXU54O880nDvy7OA1iGnmTVkc50733_alKr-slNGSvp_ia7-ZcC3xfqZWWAWLy6nF1LCX2CpyBNA6K306GT_7j2wah7CamiYbremRzGNqkPvK94aVR\" alt=\"\" style=\"width:488px;height:415px\" width=\"488\" height=\"415\"/\u003e\u003c/figure\u003e\u003c/div\u003e\n\n\n\u003cp\u003e\u003cstrong\u003eConclusion\u003c/strong\u003e\u003cbr\u003eVinifera serves as a powerful monitoring tool, proactively detecting and mitigating accidental leaks across multiple platforms. Vinifera strengthens the security posture with continuous monitoring, robust alerting, and multi-tenant support. With Vinifera, we can take proactive measures to identify and mitigate potential risks, bolster data protection, and prevent leaks.By open-sourcing Vinifera, Zomato aims to contribute to the broader security community, inviting others to strengthen their security postures and swiftly identify and mitigate potential leaks. If you are passionate about solving security problems at scale, we would love to hear from you at \u003ca href=\"mailto:infosechiring@zomato.com\"\u003einfosechiring@zomato.com\u003c/a\u003e.\u003c/p\u003e\n","author":{"__typename":"NodeWithAuthorToUserConnectionEdge","node":{"__typename":"User","name":"Security Team"}},"categories":{"__typename":"PostToCategoryConnection","nodes":[{"__typename":"Category","name":"Technology","databaseId":759775375,"uri":"/category/technology/","slug":"technology"}]},"featuredImage":{"__typename":"NodeWithFeaturedImageToMediaItemConnectionEdge","node":{"__typename":"MediaItem","altText":"","mediaItemUrl":"https://zomatoblog.com/wp-content/uploads/2023/09/image7.jpg"}},"uri":"/introducing-vinifera/"}],"pageInfo":{"__typename":"RootQueryToPostConnectionPageInfo","hasNextPage":true,"endCursor":"YXJyYXljb25uZWN0aW9uOjEzMDgz"}}},"__N_SSG":true},"page":"/","query":{},"buildId":"CO9IzuE3AxJgAHUzi4xGH","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>


https://blog.zomato.com:443